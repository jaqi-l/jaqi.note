(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{430:function(t,a,s){"use strict";s.r(a);var n=s(44),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"_8-1-概览"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-概览"}},[t._v("#")]),t._v(" 8.1 概览")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/framework/",target:"_blank",rel:"noopener noreferrer"}},[t._v("微信开放文档"),s("OutboundLink")],1)]),t._v(" "),s("ul",[s("li",[t._v("小程序代码构成")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v(".json")]),t._v("后缀的JSON配置文件")]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("app.json")]),t._v("小程序的全局配置文件"),s("br"),t._v(" "),s("code",[t._v("project.config.json")]),t._v("工具配置文件"),s("br"),t._v(" "),s("code",[t._v("page.json")]),t._v("页面配置文件"),s("br"),t._v(" "),s("code",[t._v(".wxml")]),t._v("后缀的WXML模板文件"),s("br"),t._v("\n标签必须闭合、大小写敏感"),s("br"),t._v(" "),s("code",[t._v(".wxss")]),t._v("后缀的WXSS样式文件"),s("br"),t._v(" "),s("code",[t._v("app.wxss")]),t._v("公共样式配置文件"),s("br"),t._v(" "),s("code",[t._v(".js")]),t._v("后缀的JS脚本逻辑文件"),s("br"),t._v(" "),s("code",[t._v("app.js")]),t._v("入口逻辑文件"),s("br"),t._v(" "),s("code",[t._v(".wxs")]),t._v("后缀的WeiXinScript脚本逻辑文件")])])]),t._v(" "),s("ul",[s("li",[t._v("小程序版本发布流程\n预览版→开发版→体验版→审核版→正式版")])]),t._v(" "),s("h2",{attrs:{id:"_8-2-wxml特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-wxml特性"}},[t._v("#")]),t._v(" 8.2 wxml特性")]),t._v(" "),s("ul",[s("li",[t._v("支持的标签、组件：详见"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/component/",target:"_blank",rel:"noopener noreferrer"}},[t._v("视图容器|微信开放文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("支持的属性：id、class、style、hidden、data-"),s("em",[t._v("、bind")]),t._v("/catch*")]),t._v(" "),s("li",[t._v("数据绑定：详见"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/data.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("数据绑定|微信开放文档"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("hidden")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{flag ? true : false}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(' {{"hello" + message}} '),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("列表渲染：详见"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/list.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("列表渲染|微信开放文档"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("block")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{item}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("for-item")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("key")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{index}}:{{item.name}}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("block")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("*条件渲染：详见"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("条件渲染|微信开放文档"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("if")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{length > 5}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("大于五"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("elif")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{length > 2}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("大于二小于五"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[s("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("wx:")]),t._v("else")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("其他 "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("ul",[s("li",[t._v("模板：详见"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("模板|微信开放文档"),s("OutboundLink")],1)])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 定义： --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("msgItem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{index}}: {{msg}} "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" Time: {{time}} "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 使用： --\x3e")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("is")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("msgItem"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{...item}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 只能通过data传参数 --\x3e")]),t._v("\n")])])]),s("p",[t._v("引用：详见"),s("a",{attrs:{href:"https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/import.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("引用|微信开放文档"),s("OutboundLink")],1),t._v(" "),s("code",[t._v("import")]),t._v("：只能引入根节点的template\n"),s("code",[t._v("include")]),t._v("：可以引入template内的全部template")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 定义item.wxml --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{text}}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("text")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 引用 --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item.wxml"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("is")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("{{text: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("forbar"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("}}"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n")])])]),s("h2",{attrs:{id:"_8-3-wxss特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-wxss特性"}},[t._v("#")]),t._v(" 8.3 wxss特性")]),t._v(" "),s("ul",[s("li",[t._v("rpx单位：设备像素（dp设备的物理像素）、CSS像素、PPI/DPI（每英寸像素数）、DPR（设备像素与CSS像素的比）、rpx（规定屏幕宽度750px，根据DPR进行计算自动适配）")]),t._v(" "),s("li",[t._v("外链样式导入：")])]),t._v(" "),s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[t._v("@import "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./assets.wxss'")]),t._v("\n")])])]),s("ul",[s("li",[t._v("选择器：id选择器、类选择器、标签选择器、after/before伪类")]),t._v(" "),s("li",[t._v("选择器优先级：important最高、行内1000、id选择器100、类选择器10、标签选择器")])]),t._v(" "),s("h2",{attrs:{id:"_8-4-wxs特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-wxs特性"}},[t._v("#")]),t._v(" 8.4 wxs特性")]),t._v(" "),s("p",[t._v("JS运行环境：ios→JavaScriptCore、android→X5内核、IED→nwjs\nWXS：运行环境不依赖于运行时的基础库版本，可以在所有版本的小程序中运行")]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 定义 --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("wxs")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("module")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("m1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v('\nvar msg = "hello world";\nmodule.exports.message = msg;\n'),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("wxs")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 使用 --\x3e")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" {{m1.message}} "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("view")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[t._v("WXS数据类型：number、string、boolean、object、arrary、function、date、regexp")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",[s("code",[t._v("wxs不支持try/catch\n")])])])]),t._v(" "),s("h2",{attrs:{id:"_8-5-运行机制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-5-运行机制"}},[t._v("#")]),t._v(" 8.5 运行机制")]),t._v(" "),s("ul",[s("li",[t._v("运行机制：视图层→逻辑层→CDM（查看是否有更新）→网络请求")]),t._v(" "),s("li",[t._v("生命周期")])]),t._v(" "),s("h5",{attrs:{id:"应用生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#应用生命周期"}},[t._v("#")]),t._v(" 应用生命周期：")]),t._v(" "),s("p",[t._v("onLaunch"),s("br"),t._v("\nonShow"),s("br"),t._v("\nonHide"),s("br"),t._v("\nonError")]),t._v(" "),s("h5",{attrs:{id:"页面生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面生命周期"}},[t._v("#")]),t._v(" 页面生命周期：")]),t._v(" "),s("p",[t._v("onLoad"),s("br"),t._v("\nonShow"),s("br"),t._v("\nonReady"),s("br"),t._v("\nonHide"),s("br"),t._v("\nonUnload")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("挂起5min后自动删除进程。")])]),t._v(" "),s("h2",{attrs:{id:"_8-6-路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-6-路由"}},[t._v("#")]),t._v(" 8.6 路由")]),t._v(" "),s("p",[s("img",{attrs:{src:"/jaqi.note/router.jpg",alt:"router"}})]),t._v(" "),s("h2",{attrs:{id:"_8-7-事件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-7-事件"}},[t._v("#")]),t._v(" 8.7 事件")]),t._v(" "),s("ul",[s("li",[t._v("touchstart、")]),t._v(" "),s("li",[t._v("touchmove、")]),t._v(" "),s("li",[t._v("touchcancel（被打断）、")]),t._v(" "),s("li",[t._v("touchend、")]),t._v(" "),s("li",[t._v("tap、")]),t._v(" "),s("li",[t._v("logpress、")]),t._v(" "),s("li",[t._v("longtap、")])]),t._v(" "),s("h2",{attrs:{id:"_8-8-组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-组件"}},[t._v("#")]),t._v(" 8.8 组件")]),t._v(" "),s("h3",{attrs:{id:"_8-8-1-视图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-1-视图"}},[t._v("#")]),t._v(" 8.8.1 视图")]),t._v(" "),s("ul",[s("li",[t._v("view（相当于DIV）")]),t._v(" "),s("li",[t._v("scroll-view（滚动）")]),t._v(" "),s("li",[t._v("swiper（轮播）")]),t._v(" "),s("li",[t._v("movable-view（移动缩放）")]),t._v(" "),s("li",[t._v("cover-view（用户覆盖原生组件）")])]),t._v(" "),s("h3",{attrs:{id:"_8-8-2-基础内容"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-2-基础内容"}},[t._v("#")]),t._v(" 8.8.2 基础内容")]),t._v(" "),s("ul",[s("li",[t._v("icon（图标）")]),t._v(" "),s("li",[t._v("text（文本）")]),t._v(" "),s("li",[t._v("rich-text（符文本）")]),t._v(" "),s("li",[t._v("percent（进度条）")])]),t._v(" "),s("h3",{attrs:{id:"_8-8-3-表单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-3-表单"}},[t._v("#")]),t._v(" 8.8.3 表单")]),t._v(" "),s("ul",[s("li",[t._v("button")]),t._v(" "),s("li",[t._v("checkbox")]),t._v(" "),s("li",[t._v("form")]),t._v(" "),s("li",[t._v("input")]),t._v(" "),s("li",[t._v("label")]),t._v(" "),s("li",[t._v("picker")]),t._v(" "),s("li",[t._v("picker-view")]),t._v(" "),s("li",[t._v("radio")]),t._v(" "),s("li",[t._v("slider")]),t._v(" "),s("li",[t._v("switch")]),t._v(" "),s("li",[t._v("textarea")])]),t._v(" "),s("h3",{attrs:{id:"_8-8-4-导航"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-4-导航"}},[t._v("#")]),t._v(" 8.8.4 导航")]),t._v(" "),s("ul",[s("li",[t._v("navigator")])]),t._v(" "),s("h3",{attrs:{id:"_8-8-5-媒体组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-5-媒体组件"}},[t._v("#")]),t._v(" 8.8.5 媒体组件")]),t._v(" "),s("ul",[s("li",[t._v("audio（音频）")]),t._v(" "),s("li",[t._v("video（视频）")]),t._v(" "),s("li",[t._v("camera（相机）")]),t._v(" "),s("li",[t._v("image（图片 ）")]),t._v(" "),s("li",[t._v("live-player（实时播放）")]),t._v(" "),s("li",[t._v("live-pusher（实时录制）")]),t._v(" "),s("li",[t._v("voip-room（多人音视频对话）")])]),t._v(" "),s("h3",{attrs:{id:"_8-8-6-地图组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-6-地图组件"}},[t._v("#")]),t._v(" 8.8.6 地图组件")]),t._v(" "),s("ul",[s("li",[t._v("map")])]),t._v(" "),s("h3",{attrs:{id:"_8-8-7-canvas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-7-canvas"}},[t._v("#")]),t._v(" 8.8.7 Canvas")]),t._v(" "),s("h3",{attrs:{id:"_8-8-8-开发能力"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-8-8-开发能力"}},[t._v("#")]),t._v(" 8.8.8 开发能力")]),t._v(" "),s("ul",[s("li",[t._v("open-data")]),t._v(" "),s("li",[t._v("web-view\n需要配置业务域名，必须是HTTPS协议。")])]),t._v(" "),s("h2",{attrs:{id:"_8-9-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-api"}},[t._v("#")]),t._v(" 8.9 API")]),t._v(" "),s("p",[t._v("前缀："),s("code",[t._v("wx.")]),s("br"),t._v("\n方法：wx.get（获取）、wx.set（写入）"),s("br"),t._v("\n回调函数：success（成功）、fail（失败）、complete（完成）"),s("br"),t._v("\n回调函数类型：直调函数（程序运行时立即执行被调函数）、回调函数（程序运行之后执行被调函数。包括登记回调函数和执行回调函数）")]),t._v(" "),s("h3",{attrs:{id:"_8-9-1-网络"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-1-网络"}},[t._v("#")]),t._v(" 8.9.1 网络")]),t._v(" "),s("ul",[s("li",[t._v("发起请求：")])]),t._v(" "),s("blockquote",[s("p",[t._v("wx.request（发起请求）：需要配置request白名单，必须的HTTPS协议，且通过ICP备案。")])]),t._v(" "),s("ul",[s("li",[t._v("上传、下载类：")])]),t._v(" "),s("blockquote",[s("p",[t._v("wx.uploadFile（上传）：需要配置uploadFile白名单。"),s("br"),t._v("\nwx.downloadFile（下载）需要配置downloadFile白名单。")])]),t._v(" "),s("ul",[s("li",[t._v("websocket\nwebsocket：需要配置websocket白名单。")])]),t._v(" "),s("h3",{attrs:{id:"_8-9-2-媒体"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-2-媒体"}},[t._v("#")]),t._v(" 8.9.2 媒体")]),t._v(" "),s("h4",{attrs:{id:"图片类"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图片类"}},[t._v("#")]),t._v(" 图片类：")]),t._v(" "),s("ul",[s("li",[t._v("wx.chooseImage（选择图片）")]),t._v(" "),s("li",[t._v("wx.previewImage（预览图片）")]),t._v(" "),s("li",[t._v("wx.getImage（查看图片信息）")]),t._v(" "),s("li",[t._v("wx.saveImageToPhotosAlbum（保存图片）")])]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("ol",[s("li",[t._v("必须是本地路径，远程地址可以使用downloadFile下载到本地再保存到相册。")])])]),t._v(" "),s("h4",{attrs:{id:"录音"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#录音"}},[t._v("#")]),t._v(" 录音：")]),t._v(" "),s("ul",[s("li",[t._v("wx.startRecord（开始录音），不再维护，但可使用")]),t._v(" "),s("li",[t._v("wx.stopRecord（停止录音），不再维护，但可使用")]),t._v(" "),s("li",[t._v("wx.getRecorderManager（录音管理器）")])]),t._v(" "),s("h4",{attrs:{id:"音频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#音频"}},[t._v("#")]),t._v(" 音频：")]),t._v(" "),s("h4",{attrs:{id:"视频"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#视频"}},[t._v("#")]),t._v(" 视频：")]),t._v(" "),s("h3",{attrs:{id:"_8-9-3-文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-3-文件"}},[t._v("#")]),t._v(" 8.9.3 文件")]),t._v(" "),s("ul",[s("li",[t._v("wx.savaFile")]),t._v(" "),s("li",[t._v("wx.getFileInfo")]),t._v(" "),s("li",[t._v("wx.getSavedFileList")]),t._v(" "),s("li",[t._v("wx.getSavedFileInfo")]),t._v(" "),s("li",[t._v("wx.removeSavedFile")]),t._v(" "),s("li",[t._v("wx.openDocument")])]),t._v(" "),s("h3",{attrs:{id:"_8-9-4-数据缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-4-数据缓存"}},[t._v("#")]),t._v(" 8.9.4 数据缓存")]),t._v(" "),s("ul",[s("li",[t._v("wx.setStorage")]),t._v(" "),s("li",[t._v("wx.setStorageSync")]),t._v(" "),s("li",[t._v("wx.getStorage")]),t._v(" "),s("li",[t._v("wx.getStorageSync")]),t._v(" "),s("li",[t._v("wx.getStorageInfo")]),t._v(" "),s("li",[t._v("wx.getStorageInfoSync")]),t._v(" "),s("li",[t._v("wx.removeStorage")]),t._v(" "),s("li",[t._v("wx.removeStorageInfoSync")]),t._v(" "),s("li",[t._v("wx.clearStorage")]),t._v(" "),s("li",[t._v("wx.clearStorageInfoSync")])]),t._v(" "),s("h3",{attrs:{id:"_8-9-5-位置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-5-位置"}},[t._v("#")]),t._v(" 8.9.5 位置")]),t._v(" "),s("ul",[s("li",[t._v("wx.getLocation")]),t._v(" "),s("li",[t._v("wx.chooseLocation")]),t._v(" "),s("li",[t._v("wx.openLocation")]),t._v(" "),s("li",[t._v("wx.createMapContext")])]),t._v(" "),s("h3",{attrs:{id:"_8-9-6-设备"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-6-设备"}},[t._v("#")]),t._v(" 8.9.6 设备")]),t._v(" "),s("ul",[s("li",[t._v("wx.canIUse"),s("br"),t._v("\n判断小程序的API，回调，参数，组件等是否在当前版本可用。"),s("br"),t._v(" "),s("code",[t._v("${API}.${method}.${param}.${option}")]),t._v("或"),s("code",[t._v("${component}.${attribute}.${option}")]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("canIUse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'console.log'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("canIUse")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'getSystemInfo.success.screenWidth'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),s("h4",{attrs:{id:"设备信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设备信息"}},[t._v("#")]),t._v(" 设备信息：")]),t._v(" "),s("ul",[s("li",[t._v("wx.getSystemInfoSync(同步获取设备信息)")]),t._v(" "),s("li",[t._v("wx.getSystemInfoAsync(异步获取设备信息)")])]),t._v(" "),s("h4",{attrs:{id:"网络状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络状态"}},[t._v("#")]),t._v(" 网络状态：")]),t._v(" "),s("ul",[s("li",[t._v("wx.getNetworkType(获取网络类型)")]),t._v(" "),s("li",[t._v("wx.onNetworkStatusChange(监听网络状态变化事件)")])]),t._v(" "),s("h4",{attrs:{id:"网络状态-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#网络状态-2"}},[t._v("#")]),t._v(" 网络状态：")]),t._v(" "),s("h3",{attrs:{id:"_8-9-7-界面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-7-界面"}},[t._v("#")]),t._v(" 8.9.7 界面")]),t._v(" "),s("h4",{attrs:{id:"交互"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#交互"}},[t._v("#")]),t._v(" 交互：")]),t._v(" "),s("ul",[s("li",[t._v("wx.showToast(提示框)、wx.hideToast(隐藏示框)")]),t._v(" "),s("li",[t._v("wx.showModal(模态框")]),t._v(" "),s("li",[t._v("wx.showLoading(加载动画)、wx.hideLoading(隐藏加载动画)")]),t._v(" "),s("li",[t._v("wx.showActionSheet(显示操作菜单)")]),t._v(" "),s("li",[t._v("wx.enableAlertBeforeUnload(开启小程序页面返回询问对话框)、wx.disableAlertBeforeUnload(关闭小程序页面返回询问对话框)")])]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("WARNING")]),t._v(" "),s("p",[s("code",[t._v("wx.showLoading")]),t._v("和"),s("code",[t._v("wx.showToast")]),t._v("同时只能显示一个。")])]),t._v(" "),s("h4",{attrs:{id:"导航栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导航栏"}},[t._v("#")]),t._v(" 导航栏：")]),t._v(" "),s("ul",[s("li",[t._v("wx.showNavigationBarLoading(导航条加载动画)、wx.hideNavigationBarLoading(隐藏导航条加载动画)")]),t._v(" "),s("li",[t._v("wx.setNavigationBarTitle(导航条标题)")]),t._v(" "),s("li",[t._v("wx.setNavigationBarColor(导航条颜色)")]),t._v(" "),s("li",[t._v("wx.hideHomeButton(隐藏返回首页按钮)")])]),t._v(" "),s("h4",{attrs:{id:"背景"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[t._v("#")]),t._v(" 背景：")]),t._v(" "),s("ul",[s("li",[t._v("wx.setBackgroundTextStyle(下拉背景字体、loading 图的样式)")]),t._v(" "),s("li",[t._v("wx.setBackgroundColor(背景色)")])]),t._v(" "),s("h4",{attrs:{id:"tab-bar"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tab-bar"}},[t._v("#")]),t._v(" Tab Bar：")]),t._v(" "),s("ul",[s("li",[t._v("wx.showTabBar(显示tabBar)、wx.hideTabBar(隐藏tabBar)")]),t._v(" "),s("li",[t._v("wx.setTabBarStyle(设置tabBar的整体样式)")]),t._v(" "),s("li",[t._v("wx.setTabBarItem(设置tabBar某一项的内容)")]),t._v(" "),s("li",[t._v("wx.setTabBarBadge(为tabBar某一项的右上角添加文本)、wx.removeTabBarBadge(移除tabBar某一项右上角的文本)")]),t._v(" "),s("li",[t._v("wx.showTabBarRedDot(显示tabBar某一项的右上角的红点)、wx.hideTabBarRedDot(隐藏tabBar某一项的右上角的红点)")])]),t._v(" "),s("h4",{attrs:{id:"置顶栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#置顶栏"}},[t._v("#")]),t._v(" 置顶栏")]),t._v(" "),s("ul",[s("li",[t._v("wx.setTopBarText(动态设置置顶栏文字内容)"),s("br"),t._v("\n只有小程序被置顶时生效")])]),t._v(" "),s("h3",{attrs:{id:"_8-9-8-路由"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-8-路由"}},[t._v("#")]),t._v(" 8.9.8 路由")]),t._v(" "),s("ul",[s("li",[t._v("wx.reLaunch(关闭所有页面，打开到应用内的某个页面)")]),t._v(" "),s("li",[t._v("wx.redirectTo(关闭当前页面，跳转到应用内的某个页面。不能跳tabbar 页面)")]),t._v(" "),s("li",[t._v("wx.navigateTo(保留当前页面，跳转到应用内的某个页面。不能跳tabbar页面)")]),t._v(" "),s("li",[t._v("wx.navigateBack(关闭当前页面，返回到原页面)"),s("br"),t._v("\n可通过 getCurrentPages 获取当前的页面栈，决定需要返回几层")]),t._v(" "),s("li",[t._v("wx.switchTab(跳转到tabBar页面，并关闭其他所有非tabBar页面,不能传参)")])]),t._v(" "),s("h3",{attrs:{id:"_8-9-9-动画"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-9-动画"}},[t._v("#")]),t._v(" 8.9.9 动画")]),t._v(" "),s("ul",[s("li",[t._v("wx.createAnimation(创建一个动画实例)")])]),t._v(" "),s("h3",{attrs:{id:"_8-9-10-绘图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-10-绘图"}},[t._v("#")]),t._v(" 8.9.10 绘图")]),t._v(" "),s("ul",[s("li",[t._v("wx.createCanvasContext(创建canvas对象)")])]),t._v(" "),s("h3",{attrs:{id:"_8-9-11-开放接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-11-开放接口"}},[t._v("#")]),t._v(" 8.9.11 开放接口")]),t._v(" "),s("h4",{attrs:{id:"登录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#登录"}},[t._v("#")]),t._v(" 登录")]),t._v(" "),s("ul",[s("li",[t._v("wx.login(接口获取登录凭证code)"),s("br"),t._v("\n发送"),s("code",[t._v("code")]),t._v("给后端服务器，获取"),s("code",[t._v("session_key")]),t._v("(有时效性)。")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//发起网络请求")]),t._v("\n      wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("request")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://example.com/onLogin'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          code"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("code\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'登录失败！'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("errMsg"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[t._v("wx.checkSession(检查"),s("code",[t._v("session_key")]),t._v("是否过期)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkSession")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//session_key 未过期，并且在本生命周期一直有效")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fail")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// session_key 已经失效，需要重新执行登录流程")]),t._v("\n    wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//重新登录")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"账号信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#账号信息"}},[t._v("#")]),t._v(" 账号信息")]),t._v(" "),s("ul",[s("li",[t._v("wx.getAccountInfoSync(获取当前帐号信息，只能在正式版中获取)")])]),t._v(" "),s("h4",{attrs:{id:"用户信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#用户信息"}},[t._v("#")]),t._v(" 用户信息")]),t._v(" "),s("ul",[s("li",[t._v("wx.getUserProfile(获取授权、和当前用户信息)")]),t._v(" "),s("li",[t._v("wx.getUserInfo(已授权的情况下，获取用户信息)")])]),t._v(" "),s("h4",{attrs:{id:"授权"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#授权"}},[t._v("#")]),t._v(" 授权")]),t._v(" "),s("ul",[s("li",[t._v("wx.authorize(提前向用户发起授权请求)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("uni"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("authorize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  scope"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'scope.writePhotosAlbum'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 要获取的权限名")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fail")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置"}},[t._v("#")]),t._v(" 设置")]),t._v(" "),s("ul",[s("li",[t._v("wx.getSetting(获取用户的当前设置)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSetting")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fail")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("ul",[s("li",[t._v("wx.openSetting(查看设置界面)")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("openSetting")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("success")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fail")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h4",{attrs:{id:"微信支付"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#微信支付"}},[t._v("#")]),t._v(" 微信支付")]),t._v(" "),s("p",[t._v("小程序账号必须是商户账号")]),t._v(" "),s("h3",{attrs:{id:"_8-9-12-wxml"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-9-12-wxml"}},[t._v("#")]),t._v(" 8.9.12 WXML")]),t._v(" "),s("ul",[s("li",[t._v("wx.createSelectorQuery(创建获取DOM节点信息对象)\n查看DOM信息")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" query "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" wx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createSelectorQuery")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nquery"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("select")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#the-id'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("boundingClientRect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nquery"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("selectViewport")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("scrollOffset")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nquery"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("exec")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("top       "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// #the-id节点的上边界坐标")]),t._v("\n  res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("scrollTop "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 显示区域的竖直滚动位置")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);